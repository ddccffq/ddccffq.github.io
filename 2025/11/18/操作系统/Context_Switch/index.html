

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ddccffq">
  <meta name="keywords" content="���,�㷨,����ѧϰ,���������,��������,��������,ѧϰ�ʼ�">
  
    <meta name="description" content="*User to kernel Mode Switch There are three conditions will trigger switch.  Exceptions: When the processor encounters unexpected condition like illegal memory access, divide-by-zero (in C), perform">
<meta property="og:type" content="article">
<meta property="og:title" content="3: Context Switch">
<meta property="og:url" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/index.html">
<meta property="og:site_name" content="ddccffq&#39;s Blog">
<meta property="og:description" content="*User to kernel Mode Switch There are three conditions will trigger switch.  Exceptions: When the processor encounters unexpected condition like illegal memory access, divide-by-zero (in C), perform">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/interrupt%20procedure.png">
<meta property="og:image" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/before%20interrupt.png">
<meta property="og:image" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/at%20the%20beginning%20of%20handler.png">
<meta property="og:image" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/during%20interrupt%20handler.png">
<meta property="article:published_time" content="2025-11-18T08:00:00.000Z">
<meta property="article:modified_time" content="2026-01-04T13:28:33.617Z">
<meta property="article:author" content="ddccffq">
<meta property="article:tag" content="���,�㷨,����ѧϰ,���������,��������,��������,ѧϰ�ʼ�">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://ddccffq.github.io/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/interrupt%20procedure.png">
  
  
  
  <title>3: Context Switch - ddccffq&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"ddccffq.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="3: Context Switch"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-11-18 16:00" pubdate>
          2025年11月18日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          392 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          4 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">3: Context Switch</h1>
            
            
              <div class="markdown-body">
                
                <span id="more"></span>
<h2 id="user-to-kernel-mode-switch">*User to kernel Mode Switch</h2>
<p>There are three conditions will trigger switch.</p>
<ol type="1">
<li><strong>Exceptions</strong>: When the <strong>processor</strong> encounters <strong>unexpected condition</strong> like <strong>illegal memory access</strong>, <strong>divide-by-zero (in C)</strong>, <strong>perform privileged instructions</strong>.</li>
<li><strong>Interrupts</strong>: <strong>Asynchronous signal</strong> to the processor that some external event has occurred that requires its attention, like <strong>timer interrupts</strong>, <strong>I/O requests</strong> such as mouse movement.</li>
<li><strong>System calls</strong>: User processes requests the kernel do som operation on the user’s behalf, like <strong>R/W files</strong>, <strong>creating new processes</strong>, <strong>network connections</strong>.</li>
</ol>
<blockquote>
<p>What types of these user-to-kernel switch are they?</p>
<ul>
<li>inter-processor interrupt(IPI)</li>
<li>invalid opcode</li>
<li>segmentation fault</li>
<li>network card interrupt</li>
<li>divide-by-zero in python/java
<ul>
<li>exception from interpreter (<strong>not processor</strong>)</li>
</ul></li>
</ul>
</blockquote>
<h2 id="interrupt-vector-table">Interrupt Vector Table</h2>
<p>Interrupt vector table stores the <strong>entries</strong> of different handlers for <strong>exceptions</strong>, <strong>interrupts</strong>, and <strong>traps</strong> in real mode.</p>
<blockquote>
<p>There is <strong>a special register</strong> that point to the <strong>vector (array)</strong> in kernel memory, where each entry points to the <strong>first instruction</strong> of a different handler procedure in the kernel.</p>
<p>In x86, there are <span class="math inline">\(256\)</span> entries in total. Each takes <span class="math inline">\(4\)</span> bytes.</p>
<p><strong>Old</strong>.</p>
</blockquote>
<h2 id="interrupt-descriptor-table">Interrupt Descriptor Table</h2>
<p>Interrupt descriptor table tells CPU where the <strong>interrupt service routines</strong> are located.</p>
<blockquote>
<p>Location calls <strong>entry</strong>, also called <strong>gate</strong>. There are <span class="math inline">\(256\)</span> gates in total. Each gate is <span class="math inline">\(8\)</span>-bytes long on <span class="math inline">\(32\)</span>-bit processors; or <span class="math inline">\(16\)</span>-bytes long on <span class="math inline">\(64\)</span>-bit processors. Its location is kept in <strong>IDT register(IDTR)</strong>, loaded with <strong>LIDT</strong> assembly instruction.</p>
<p>用户态到内核态只能经过这 <span class="math inline">\(256\)</span> 个门</p>
</blockquote>
<p>The following table is <strong>gate descriptor(32-bit)</strong> structure:</p>
<div style="display: block; margin: 0 auto; width: fit-content">
<table>
<thead>
<tr class="header">
<th>bits</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0 ~ 15</td>
<td>Offset</td>
</tr>
<tr class="even">
<td>16 ~ 31</td>
<td>Segment Selector</td>
</tr>
<tr class="odd">
<td>32 ~ 39</td>
<td>Reserved</td>
</tr>
<tr class="even">
<td>40 ~ 43</td>
<td>Gate Type</td>
</tr>
<tr class="odd">
<td>44</td>
<td>0</td>
</tr>
<tr class="even">
<td>45 ~ 46</td>
<td>DPL</td>
</tr>
<tr class="odd">
<td>47</td>
<td>P</td>
</tr>
<tr class="even">
<td>48 ~ 63</td>
<td>Offset</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<ul>
<li><strong>Offset</strong>: A 32-bit value, split in two parts, represents the address of the <strong>interrupt service routine</strong>.</li>
<li><strong>Selector</strong>: A <strong>segment selector</strong> which must point to a valid code segment in your <strong>GDT (Global Descriptor Table)</strong>.</li>
<li><strong>Gate Type</strong>: A 4-bit value which defines the type of gate this interrupt descriptor represents.</li>
<li><strong>DPL</strong>: A 2-bit value which defines the CPU privilege levels which are allowed to access this interrupt via the <strong>INT (Interrupt Instruction)</strong>.</li>
<li><strong>P</strong>: Present bit. Must be set 1 for the descriptor to be valid.</li>
</ul>
<p>Why offset is split into two parts? For compatibility.</p>
</blockquote>
<div style="display: block; margin: 0 auto; width: fit-content">
<table>
<thead>
<tr class="header">
<th>特性</th>
<th>IVT</th>
<th>IDT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>用途</strong></td>
<td>实模式中断向量表</td>
<td>保护模式/长模式中断描述符表</td>
</tr>
<tr class="even">
<td><strong>存储位置</strong></td>
<td>固定在 0x0000 到 0x03FF</td>
<td>动态位置，由 IDTR 指定</td>
</tr>
<tr class="odd">
<td><strong>条目大小</strong></td>
<td><span class="math inline">\(4\)</span> 字节</td>
<td><span class="math inline">\(8\)</span> 字节（<span class="math inline">\(32\)</span> 位）或 <span class="math inline">\(16\)</span> 字节（<span class="math inline">\(64\)</span> 位）</td>
</tr>
<tr class="even">
<td><strong>条目内容</strong></td>
<td>中断处理程序的入口地址</td>
<td>描述符（包含段选择器、偏移地址等）</td>
</tr>
<tr class="odd">
<td><strong>支持的模式</strong></td>
<td>实模式</td>
<td>保护模式、长模式</td>
</tr>
</tbody>
</table>
</div>
<div style="text-align: center; font-style: italic;">
Table 1: Comparison between IVT and IDT
</div>
<p>IVT 是早期的简单实现，而 IDT 是现代操作系统中更灵活和安全的中断处理机制。</p>
<div style="display: block; margin: 0 auto; width: fit-content">
<figure>
<img src="/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/interrupt%20procedure.png" srcset="/img/loading.gif" lazyload alt="interrupt procedure"><figcaption aria-hidden="true">interrupt procedure</figcaption>
</figure>
</div>
<div style="text-align: center; font-style: italic;">
Figure 1: Interrupt procedure
</div>
<h2 id="interrupt-masking">Interrupt Masking</h2>
<p>There are two kinds of interrupts:</p>
<ul>
<li><strong>Maskable interrupts</strong>: all software interrupts, all system calls, and partial hardware exceptions.</li>
<li><strong>Non-Maskable interrupts</strong>: partial hardware exceptions.</li>
<li><strong>Specified by <em>eflags registers</em></strong>.</li>
</ul>
<blockquote>
<p><strong>Disable interrupts</strong> and <strong>enable interrupts</strong>. Both of them are privileged instructions.</p>
<p>Masked interrupts are deferred, but not ignored. Given the limited buffer for interrupts, hardware buffers one interrupt of each type.</p>
</blockquote>
<h2 id="interrupt-stack">*Interrupt Stack</h2>
<p><strong>Interrupt stack</strong> is a special stack in kernel memory that saves <strong>interrupt process status</strong>. Empty when there is no interrupt (running in user space).</p>
<blockquote>
<ol type="1">
<li><p>Why not directly use the user-space stack?</p>
<p>For reliability and security</p></li>
<li><p>How many interrupt stack in kernel?</p>
<p>Kernel need to allocate each thread a interrupt stack</p></li>
</ol>
<ul>
<li><strong>First fault</strong>: trap from user-space program to kernel-space exception handler.</li>
<li><strong>Double fault</strong>: trap from exception handler to another handler.</li>
<li><strong>Triple fault</strong>: reboot.</li>
</ul>
</blockquote>
<h2 id="kernel-to-user-mode-switch">Kernel to User Mode Switch</h2>
<ul>
<li><p><strong>New process</strong></p>
<p>When a new process is created (e.g., via <code>fork</code> and <code>exec</code> in Unix-like systems), the kernel initializes its context and then switches to user mode to start executing the user program.</p></li>
<li><p><strong>Resume after an interrupt/exception/syscall</strong></p>
<p>After handling an interrupt, exception, or system call, the kernel restores the user process’s context and returns to user mode so the process can continue execution from where it was interrupted.</p></li>
<li><p><strong>Switch to a different process</strong></p>
<p>The kernel may decide to switch to another process (context switch), often triggered by a timer interrupt (preemptive multitasking) or when the current process is blocked (e.g., waiting for I/O). The kernel saves the current process’s state and restores the next process’s state before switching to user mode.</p></li>
<li><p><strong>User-level upcall</strong></p>
<p>Sometimes, the kernel needs to notify a user process of an event (such as asynchronous I/O completion or signals). This is done via a user-level upcall, where the kernel arranges for a specific user-mode handler to be invoked.</p></li>
</ul>
<blockquote>
<p><strong>Upcalls</strong> allow apps to implement OS-like functionality to be invoked by <strong>OS</strong>.</p>
<ol type="1">
<li><p>Asynchronous I/O notification, like waiting for I/O completion.</p></li>
<li><p>Inter-process communication, such as debugger suspends a process.</p></li>
<li><p>User-level exception handling, like ensuring files saved before app shuts down.</p></li>
<li><p>User-level resource allocation, such as Java garbage collection.</p></li>
</ol>
</blockquote>
<h2 id="x86-example">*x86 Example</h2>
<h3 id="x86-background">x86 Background</h3>
<ul>
<li>Memory is segmented, so pointers come in two parts: a segment and an offset.
<ul>
<li>program counter: <code>cs</code> register and <code>eip</code> register</li>
<li>stack pointer: <code>ss</code> register and <code>esp</code> register</li>
<li>CPL is stored as the <span class="math inline">\(2\)</span> lower-bit of <code>cs</code> register</li>
</ul></li>
<li>In Intel 8086: <code>cs:eip</code> = cs <span class="math inline">\(\times 16 +\)</span> <code>eip</code>
<ul>
<li>both <code>cs</code> and <code>eip</code> are <span class="math inline">\(16\)</span>-bits long, therefore CPU can access at most <span class="math inline">\(1\)</span> MB memory space</li>
</ul></li>
<li><code>eflags</code> register stores the processor status and controls its behavior. Whether interrupts are masked or not.</li>
<li>Only a small number of instructions can change the <code>cs</code> register value
<ul>
<li><code>ljmp</code> (far jump)</li>
<li><code>lcall</code> (far call), which pushes <code>eip</code> and <code>cs</code> to the stack, and then far jumps</li>
<li><code>lref</code> (far return), which inverses the far call</li>
<li><code>INT</code>: an assembly languages instruction for x86 processors that generates a <strong>software interrupt</strong>. It takes the interrupt number formatted as a byte value. Which read <code>cs</code>/<code>eip</code> from the IVT</li>
<li><code>IRET</code>: returns program control from an exception or interrupt handler to a program or procedure that was interrupted previously</li>
</ul></li>
</ul>
<h3 id="x86-transfer">x86 transfer</h3>
<p>When an interrupt/exception/syscall occurs, the <strong>hardware</strong> will:</p>
<ol type="1">
<li>mask interrupts</li>
<li>save the special register values to other temporary registers</li>
<li>switch onto the kernel interrupt stack</li>
<li>push the three key values onto the new stack</li>
<li>optionally save an error code</li>
<li><strong>invoke</strong> the interrupt handler (<strong>CPL changed</strong>!)</li>
</ol>
<div style="display: block; margin: 0 auto; width: fit-content">
<figure>
<img src="/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/before%20interrupt.png" srcset="/img/loading.gif" lazyload alt="before interrupt"><figcaption aria-hidden="true">before interrupt</figcaption>
</figure>
</div>
<div style="text-align: center; font-style: italic;">
Figure 2: Before interrupt
</div>
<div style="display: block; margin: 0 auto; width: fit-content">
<figure>
<img src="/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/at%20the%20beginning%20of%20handler.png" srcset="/img/loading.gif" lazyload alt="at the beginning of handler"><figcaption aria-hidden="true">at the beginning of handler</figcaption>
</figure>
</div>
<div style="text-align: center; font-style: italic;">
Figure 3: At the beginning of handler
</div>
<p>Then the <strong>OS</strong> will:</p>
<ol type="1">
<li>save the rest of the interrupted process’s state
<ul>
<li><code>pusha</code>/ <code>pushad</code></li>
</ul></li>
<li><strong>execute</strong> the handler</li>
<li>resume the interrupted process
<ul>
<li><code>popa</code>/<code>popad</code> <span class="math inline">\(+\)</span> pop error cod</li>
</ul></li>
<li>resume the interrupted process
<ul>
<li><code>iret</code> (kernel mode to user mode)</li>
</ul></li>
</ol>
<div style="display: block; margin: 0 auto; width: fit-content">
<figure>
<img src="/2025/11/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Context_Switch/during%20interrupt%20handler.png" srcset="/img/loading.gif" lazyload alt="during interrupt handler"><figcaption aria-hidden="true">during interrupt handler</figcaption>
</figure>
</div>
<div style="text-align: center; font-style: italic;">
Figure 4: During interrupt handler
</div>
<h2 id="recap">Recap</h2>
<p>(1). Define three types of user-mode to kernel-mode transfers.</p>
<p>(2). Define four type of kernel-mode to user-mode transfers.</p>
<p>(3). Most hardware architectures provide an instruction to return from an interrupt, such as iret. This instruction switches the mode of operation from kernel-mode to user-mode.</p>
<ol type="1">
<li>Explain where in the operating system this instruction would be used.</li>
<li>Explain what happens if an application program executes this instruction.</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/The-Operating-System/" class="category-chain-item">The Operating System</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>3: Context Switch</div>
      <div>https://ddccffq.github.io/2025/11/18/操作系统/Context_Switch/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>ddccffq</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年11月18日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/21/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS_Interfaces_and_Syscalls/" title="4: OS Interfaces and Syscalls">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">4: OS Interfaces and Syscalls</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/18/%E6%9D%82/Coze%E6%99%BA%E8%83%BD%E4%BD%93%E5%AE%9E%E6%88%98%E2%80%94%E2%80%94%E4%BB%A5%E9%9D%A2%E8%AF%95%E5%AE%98%E4%B8%BA%E4%BE%8B%E7%9A%84%E6%99%BA%E8%83%BD%E4%BD%93%E5%AE%9E%E6%88%98/" title="Coze智能体实战——以面试官为例的智能体实战">
                        <span class="hidden-mobile">Coze智能体实战——以面试官为例的智能体实战</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"ddccffq/ddccffq.github.io","repo-id":"R_kgDOPtFBqg","category":"Announcements","category-id":"DIC_kwDOPtFBqs4CvlN9","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"bottom","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <br> <span>&copy; 2025 <a href="https://github.com/ddccffq" target="_blank">ddccffq</a>. All Rights Reserved.</span> <br> <span style="font-size: 12px; color: #999;">用代码改变世界，以技术创造价值</span> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
